{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/fernandaguerra/Desktop/bootcampProjects/module 28/setting-up-graphql-with-apollo_starter/pages/login.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\n/* /pages/login.js */\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { Container, Row, Col, Button, Form, FormGroup, Label, Input } from \"reactstrap\";\nimport { login } from \"../components/auth\";\nimport AppContext from \"../components/context\";\n\nfunction Login(props) {\n  _s();\n\n  var _useState = useState({\n    identifier: \"\",\n    password: \"\"\n  }),\n      data = _useState[0],\n      updateData = _useState[1];\n\n  var _useState2 = useState(false),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(false),\n      error = _useState3[0],\n      setError = _useState3[1];\n\n  var router = useRouter();\n  var appContext = useContext(AppContext);\n\n  var _React$useState = React.useState(true),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      show = _React$useState2[0],\n      setShow = _React$useState2[1];\n\n  var _React$useState3 = React.useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      status = _React$useState4[0],\n      setStatus = _React$useState4[1];\n\n  return __jsx(Card, {\n    bgcolor: \"secondary\",\n    header: \"Login\",\n    status: status,\n    body: show ? __jsx(LoginForm, {\n      setShow: setShow,\n      setStatus: setStatus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }\n    }) : __jsx(LoginMsg, {\n      setShow: setShow,\n      setStatus: setStatus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  });\n}\n\n_s(Login, \"tFQV7iAJIFeWLECtaZxdnIo+C1g=\", false, function () {\n  return [useRouter];\n});\n\n_c = Login;\n\nfunction LoginMsg(props) {\n  return __jsx(React.Fragment, null, __jsx(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, \"Success\"), __jsx(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-light\",\n    onClick: function onClick() {\n      return props.setShow(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, \"Authenticate again\"));\n}\n\n_c2 = LoginMsg;\n\nfunction LoginForm(props) {\n  _s2();\n\n  var _React$useState5 = React.useState(''),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      email = _React$useState6[0],\n      setEmail = _React$useState6[1];\n\n  var _React$useState7 = React.useState(''),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      password = _React$useState8[0],\n      setPassword = _React$useState8[1];\n\n  function handle() {\n    fetch(\"/account/login/\".concat(email, \"/\").concat(password)).then(function (response) {\n      return response.text();\n    }).then(function (text) {\n      try {\n        var data = JSON.parse(text);\n        props.setStatus('');\n        props.setShow(false);\n        console.log('JSON:', data);\n      } catch (err) {\n        props.setStatus(text);\n        console.log('err:', text);\n      }\n    });\n  }\n\n  return __jsx(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 3\n    }\n  }, \"Email\", __jsx(\"br\", {\n    className: \"jsx-1470127334\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 10\n    }\n  }), __jsx(\"input\", {\n    type: \"input\",\n    placeholder: \"Enter email\",\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.currentTarget.value);\n    },\n    className: \"jsx-1470127334\" + \" \" + \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }), __jsx(\"br\", {\n    className: \"jsx-1470127334\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 56\n    }\n  }), \"Password\", __jsx(\"br\", {\n    className: \"jsx-1470127334\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }), __jsx(\"input\", {\n    type: \"password\",\n    placeholder: \"Enter password\",\n    value: password,\n    onChange: function onChange(e) {\n      return setPassword(e.currentTarget.value);\n    },\n    className: \"jsx-1470127334\" + \" \" + \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }), __jsx(\"br\", {\n    className: \"jsx-1470127334\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 59\n    }\n  }), __jsx(\"button\", {\n    type: \"submit\",\n    onClick: handle,\n    className: \"jsx-1470127334\" + \" \" + \"btn btn-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  }, \"Login\"), __jsx(_JSXStyle, {\n    id: \"1470127334\",\n    __self: this\n  }, \".paper.jsx-1470127334{border:1px solid lightgray;box-shadow:0px 1px 3px 0px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 2px 1px -1px rgba(0,0,0,0.12);border-radius:6px;margin-top:90px;}.notification.jsx-1470127334{color:#ab003c;}.header.jsx-1470127334{width:100%;height:120px;background-color:#2196f3;margin-bottom:30px;border-radius-top:6px;}.wrapper.jsx-1470127334{padding:10px 30px 20px 30px !important;}a.jsx-1470127334{color:blue !important;}img.jsx-1470127334{margin:15px 30px 10px 50px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9mZXJuYW5kYWd1ZXJyYS9EZXNrdG9wL2Jvb3RjYW1wUHJvamVjdHMvbW9kdWxlIDI4L3NldHRpbmctdXAtZ3JhcGhxbC13aXRoLWFwb2xsb19zdGFydGVyL3BhZ2VzL2xvZ2luLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXdGUyxBQUd3QyxBQVFiLEFBR0gsQUFPNEIsQUFHakIsQUFHSyxXQVpkLEdBSGYsUUFhQSxFQVQyQixHQVZhLEFBc0J4QyxZQU5BLFVBTHFCLG1CQUNHLHNCQUN4QixpREFab0Isa0JBQ0YsZ0JBQ2xCIiwiZmlsZSI6Ii9Vc2Vycy9mZXJuYW5kYWd1ZXJyYS9EZXNrdG9wL2Jvb3RjYW1wUHJvamVjdHMvbW9kdWxlIDI4L3NldHRpbmctdXAtZ3JhcGhxbC13aXRoLWFwb2xsb19zdGFydGVyL3BhZ2VzL2xvZ2luLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogL3BhZ2VzL2xvZ2luLmpzICovXG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDb250ZXh0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tIFwibmV4dC9yb3V0ZXJcIjtcbmltcG9ydCB7XG4gIENvbnRhaW5lcixcbiAgUm93LFxuICBDb2wsXG4gIEJ1dHRvbixcbiAgRm9ybSxcbiAgRm9ybUdyb3VwLFxuICBMYWJlbCxcbiAgSW5wdXQsXG59IGZyb20gXCJyZWFjdHN0cmFwXCI7XG5pbXBvcnQgeyBsb2dpbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL2F1dGhcIjtcbmltcG9ydCBBcHBDb250ZXh0IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnRleHRcIjtcblxuZnVuY3Rpb24gTG9naW4ocHJvcHMpIHtcbiAgY29uc3QgW2RhdGEsIHVwZGF0ZURhdGFdID0gdXNlU3RhdGUoeyBpZGVudGlmaWVyOiBcIlwiLCBwYXNzd29yZDogXCJcIiB9KTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IGFwcENvbnRleHQgPSB1c2VDb250ZXh0KEFwcENvbnRleHQpO1xuICBjb25zdCBbc2hvdywgc2V0U2hvd10gICAgID0gUmVhY3QudXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtzdGF0dXMsIHNldFN0YXR1c10gPSBSZWFjdC51c2VTdGF0ZSgnJyk7ICAgIFxuICBcbiAgcmV0dXJuIChcbiAgICA8Q2FyZFxuICAgICAgYmdjb2xvcj1cInNlY29uZGFyeVwiXG4gICAgICBoZWFkZXI9XCJMb2dpblwiXG4gICAgICBzdGF0dXM9e3N0YXR1c31cbiAgICAgIGJvZHk9e3Nob3cgPyBcbiAgICAgICAgPExvZ2luRm9ybSBzZXRTaG93PXtzZXRTaG93fSBzZXRTdGF0dXM9e3NldFN0YXR1c30vPiA6XG4gICAgICAgIDxMb2dpbk1zZyBzZXRTaG93PXtzZXRTaG93fSBzZXRTdGF0dXM9e3NldFN0YXR1c30vPn1cbiAgICAvPlxuICApIFxufVxuXG5mdW5jdGlvbiBMb2dpbk1zZyhwcm9wcyl7XG4gIHJldHVybig8PlxuICAgIDxoNT5TdWNjZXNzPC9oNT5cbiAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBcbiAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGlnaHRcIiBcbiAgICAgIG9uQ2xpY2s9eygpID0+IHByb3BzLnNldFNob3codHJ1ZSl9PlxuICAgICAgICBBdXRoZW50aWNhdGUgYWdhaW5cbiAgICA8L2J1dHRvbj5cbiAgPC8+KTtcbn1cblxuZnVuY3Rpb24gTG9naW5Gb3JtKHByb3BzKXtcbiAgY29uc3QgW2VtYWlsLCBzZXRFbWFpbF0gICAgICAgPSBSZWFjdC51c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtwYXNzd29yZCwgc2V0UGFzc3dvcmRdID0gUmVhY3QudXNlU3RhdGUoJycpO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZSgpe1xuICAgIGZldGNoKGAvYWNjb3VudC9sb2dpbi8ke2VtYWlsfS8ke3Bhc3N3b3JkfWApXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UudGV4dCgpKVxuICAgIC50aGVuKHRleHQgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICBwcm9wcy5zZXRTdGF0dXMoJycpO1xuICAgICAgICAgICAgcHJvcHMuc2V0U2hvdyhmYWxzZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSlNPTjonLCBkYXRhKTtcbiAgICAgICAgfSBjYXRjaChlcnIpIHtcbiAgICAgICAgICAgIHByb3BzLnNldFN0YXR1cyh0ZXh0KVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2VycjonLCB0ZXh0KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICB9XG5cblxuICByZXR1cm4gKFxuICA8Q29udGFpbmVyPlxuICAgIEVtYWlsPGJyLz5cbiAgICA8aW5wdXQgdHlwZT1cImlucHV0XCIgXG4gICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIiBcbiAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgZW1haWxcIiBcbiAgICAgIHZhbHVlPXtlbWFpbH0gXG4gICAgICBvbkNoYW5nZT17ZSA9PiBzZXRFbWFpbChlLmN1cnJlbnRUYXJnZXQudmFsdWUpfS8+PGJyLz5cblxuICAgIFBhc3N3b3JkPGJyLz5cbiAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgXG4gICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIiBcbiAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgcGFzc3dvcmRcIiBcbiAgICAgIHZhbHVlPXtwYXNzd29yZH0gXG4gICAgICBvbkNoYW5nZT17ZSA9PiBzZXRQYXNzd29yZChlLmN1cnJlbnRUYXJnZXQudmFsdWUpfS8+PGJyLz5cblxuICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGlnaHRcIiBvbkNsaWNrPXtoYW5kbGV9PkxvZ2luPC9idXR0b24+XG4gICAgICA8c3R5bGUganN4PlxuICAgICAgICB7YFxuICAgICAgICAgIC5wYXBlciB7XG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBsaWdodGdyYXk7XG4gICAgICAgICAgICBib3gtc2hhZG93OiAwcHggMXB4IDNweCAwcHggcmdiYSgwLCAwLCAwLCAwLjIpLFxuICAgICAgICAgICAgICAwcHggMXB4IDFweCAwcHggcmdiYSgwLCAwLCAwLCAwLjE0KSxcbiAgICAgICAgICAgICAgMHB4IDJweCAxcHggLTFweCByZ2JhKDAsIDAsIDAsIDAuMTIpO1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICAgICAgbWFyZ2luLXRvcDogOTBweDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLm5vdGlmaWNhdGlvbiB7XG4gICAgICAgICAgICBjb2xvcjogI2FiMDAzYztcbiAgICAgICAgICB9XG4gICAgICAgICAgLmhlYWRlciB7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIGhlaWdodDogMTIwcHg7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjE5NmYzO1xuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXMtdG9wOiA2cHg7XG4gICAgICAgICAgfVxuICAgICAgICAgIC53cmFwcGVyIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMzBweCAyMHB4IDMwcHggIWltcG9ydGFudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgYSB7XG4gICAgICAgICAgICBjb2xvcjogYmx1ZSAhaW1wb3J0YW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbWcge1xuICAgICAgICAgICAgbWFyZ2luOiAxNXB4IDMwcHggMTBweCA1MHB4O1xuICAgICAgICAgIH1cbiAgICAgICAgYH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC9Db250YWluZXI+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IExvZ2luO1xuIl19 */\\n/*@ sourceURL=/Users/fernandaguerra/Desktop/bootcampProjects/module 28/setting-up-graphql-with-apollo_starter/pages/login.js */\"));\n}\n\n_s2(LoginForm, \"TSZhDBNy8CmbxXgprY/vvMmTG1Q=\");\n\n_c3 = LoginForm;\nexport default Login;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Login\");\n$RefreshReg$(_c2, \"LoginMsg\");\n$RefreshReg$(_c3, \"LoginForm\");","map":{"version":3,"sources":["/Users/fernandaguerra/Desktop/bootcampProjects/module 28/setting-up-graphql-with-apollo_starter/pages/login.js"],"names":["React","useState","useEffect","useContext","useRouter","Container","Row","Col","Button","Form","FormGroup","Label","Input","login","AppContext","Login","props","identifier","password","data","updateData","loading","setLoading","error","setError","router","appContext","show","setShow","status","setStatus","LoginMsg","LoginForm","email","setEmail","setPassword","handle","fetch","then","response","text","JSON","parse","console","log","err","e","currentTarget","value"],"mappings":"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","sourcesContent":["/* /pages/login.js */\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useRouter } from \"next/router\";\nimport {\n  Container,\n  Row,\n  Col,\n  Button,\n  Form,\n  FormGroup,\n  Label,\n  Input,\n} from \"reactstrap\";\nimport { login } from \"../components/auth\";\nimport AppContext from \"../components/context\";\n\nfunction Login(props) {\n  const [data, updateData] = useState({ identifier: \"\", password: \"\" });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const router = useRouter();\n  const appContext = useContext(AppContext);\n  const [show, setShow]     = React.useState(true);\n  const [status, setStatus] = React.useState('');    \n  \n  return (\n    <Card\n      bgcolor=\"secondary\"\n      header=\"Login\"\n      status={status}\n      body={show ? \n        <LoginForm setShow={setShow} setStatus={setStatus}/> :\n        <LoginMsg setShow={setShow} setStatus={setStatus}/>}\n    />\n  ) \n}\n\nfunction LoginMsg(props){\n  return(<>\n    <h5>Success</h5>\n    <button type=\"submit\" \n      className=\"btn btn-light\" \n      onClick={() => props.setShow(true)}>\n        Authenticate again\n    </button>\n  </>);\n}\n\nfunction LoginForm(props){\n  const [email, setEmail]       = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  function handle(){\n    fetch(`/account/login/${email}/${password}`)\n    .then(response => response.text())\n    .then(text => {\n        try {\n            const data = JSON.parse(text);\n            props.setStatus('');\n            props.setShow(false);\n            console.log('JSON:', data);\n        } catch(err) {\n            props.setStatus(text)\n            console.log('err:', text);\n        }\n    });\n  }\n\n\n  return (\n  <Container>\n    Email<br/>\n    <input type=\"input\" \n      className=\"form-control\" \n      placeholder=\"Enter email\" \n      value={email} \n      onChange={e => setEmail(e.currentTarget.value)}/><br/>\n\n    Password<br/>\n    <input type=\"password\" \n      className=\"form-control\" \n      placeholder=\"Enter password\" \n      value={password} \n      onChange={e => setPassword(e.currentTarget.value)}/><br/>\n\n    <button type=\"submit\" className=\"btn btn-light\" onClick={handle}>Login</button>\n      <style jsx>\n        {`\n          .paper {\n            border: 1px solid lightgray;\n            box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n              0px 1px 1px 0px rgba(0, 0, 0, 0.14),\n              0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n            border-radius: 6px;\n            margin-top: 90px;\n          }\n          .notification {\n            color: #ab003c;\n          }\n          .header {\n            width: 100%;\n            height: 120px;\n            background-color: #2196f3;\n            margin-bottom: 30px;\n            border-radius-top: 6px;\n          }\n          .wrapper {\n            padding: 10px 30px 20px 30px !important;\n          }\n          a {\n            color: blue !important;\n          }\n          img {\n            margin: 15px 30px 10px 50px;\n          }\n        `}\n      </style>\n    </Container>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}