{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"/Users/fernandaguerra/Desktop/bootcampProjects/module 28/setting-up-graphql-with-apollo_starter/pages/_app.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  query ($id: ID!) {\\n    restaurant(id: $id) {\\n      data {\\n        id\\n        attributes {\\n          name\\n          dishes {\\n            data {\\n              id\\n              attributes {\\n                name\\n                description\\n                priceInCents\\n                image {\\n                  data {\\n                    attributes {\\n                      url\\n                    }\\n                  }\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport { gql, useQuery } from \"@apollo/client\";\nimport { centsToDollars } from \"@/utils/centsToDollars\";\nimport { useRouter } from \"next/router\";\nimport { useAppContext } from \"@/context/AppContext\";\nimport Image from \"next/image\";\nimport Loader from '@/components/Loader';\nvar GET_RESTAURANT_DISHES = gql(_templateObject());\n\nfunction DishCard(_ref) {\n  _s();\n\n  var data = _ref.data;\n\n  var _useAppContext = useAppContext(),\n      addItem = _useAppContext.addItem,\n      setShowCart = _useAppContext.setShowCart;\n\n  function handleAddItem() {\n    addItem(data);\n    setShowCart(true);\n  }\n\n  return __jsx(\"div\", {\n    className: \"w-full md:w-1/2 lg:w-1/3 p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"h-full bg-gray-100 rounded-2xl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, __jsx(Image, {\n    className: \"w-full rounded-2xl\",\n    height: 300,\n    width: 300,\n    src: \"\".concat(process.env.STRAPI_URL || \"http://localhost:1337\").concat(data.attributes.image.data.attributes.url),\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    className: \"p-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"group inline-block mb-4\",\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, __jsx(\"h3\", {\n    className: \"font-heading text-xl text-gray-900 hover:text-gray-700 group-hover:underline font-black\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, data.attributes.name), __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, \"$\", centsToDollars(data.attributes.priceInCents))), __jsx(\"p\", {\n    className: \"text-sm text-gray-500 font-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, data.attributes.description), __jsx(\"div\", {\n    className: \"flex flex-wrap md:justify-center -m-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"w-full md:w-auto p-2 my-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, __jsx(\"button\", {\n    className: \"block w-full px-12 py-3.5 text-lg text-center text-white font-bold bg-gray-900 hover:bg-gray-800 focus:ring-4 focus:ring-gray-600 rounded-full\",\n    onClick: handleAddItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }, \"+ Add to Cart\"))))));\n}\n\n_s(DishCard, \"Jgmpk1ef5GyjbpX6wsHyS4ukz7s=\", false, function () {\n  return [useAppContext];\n});\n\n_c = DishCard;\nexport default function Restaurant() {\n  _s2();\n\n  var _this = this;\n\n  var router = useRouter();\n\n  var _useQuery = useQuery(GET_RESTAURANT_DISHES, {\n    variables: {\n      id: router.query.id\n    }\n  }),\n      loading = _useQuery.loading,\n      error = _useQuery.error,\n      data = _useQuery.data;\n\n  if (error) return \"Error Loading Dishes\";\n  if (loading) return __jsx(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 23\n    }\n  });\n\n  if (data.restaurant.data.attributes.dishes.data.length) {\n    var restaurant = data.restaurant;\n    return __jsx(\"div\", {\n      className: \"py-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 7\n      }\n    }, __jsx(\"h1\", {\n      className: \"text-4xl font-bold text-green-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }, restaurant.data.attributes.name), __jsx(\"div\", {\n      className: \"py-16 px-8 bg-white rounded-3xl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }, __jsx(\"div\", {\n      className: \"max-w-7xl mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }\n    }, __jsx(\"div\", {\n      className: \"flex flex-wrap -m-4 mb-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }\n    }, restaurant.data.attributes.dishes.data.map(function (res) {\n      return __jsx(DishCard, {\n        key: res.id,\n        data: res,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 24\n        }\n      });\n    })))));\n  } else {\n    return __jsx(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 12\n      }\n    }, \"No Dishes Found\");\n  }\n}\n\n_s2(Restaurant, \"3cmGJmCPbWz07HwSwgYwWOwFKhw=\", false, function () {\n  return [useRouter, useQuery];\n});\n\n_c2 = Restaurant;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"DishCard\");\n$RefreshReg$(_c2, \"Restaurant\");","map":{"version":3,"sources":["/Users/fernandaguerra/Desktop/bootcampProjects/module 28/setting-up-graphql-with-apollo_starter/pages/_app.js"],"names":["gql","useQuery","centsToDollars","useRouter","useAppContext","Image","Loader","GET_RESTAURANT_DISHES","DishCard","data","addItem","setShowCart","handleAddItem","process","env","STRAPI_URL","attributes","image","url","name","priceInCents","description","Restaurant","router","variables","id","query","loading","error","restaurant","dishes","length","map","res"],"mappings":"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","sourcesContent":["import { gql, useQuery } from \"@apollo/client\";\nimport { centsToDollars } from \"@/utils/centsToDollars\";\nimport { useRouter } from \"next/router\";\nimport { useAppContext } from \"@/context/AppContext\";\n\nimport Image from \"next/image\";\nimport Loader from '@/components/Loader';\n\nconst GET_RESTAURANT_DISHES = gql`\n  query ($id: ID!) {\n    restaurant(id: $id) {\n      data {\n        id\n        attributes {\n          name\n          dishes {\n            data {\n              id\n              attributes {\n                name\n                description\n                priceInCents\n                image {\n                  data {\n                    attributes {\n                      url\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\nfunction DishCard({ data }) {\n  const { addItem, setShowCart } = useAppContext();\n\n  function handleAddItem() {\n    addItem(data);\n    setShowCart(true);\n  }\n\n  return (\n    <div className=\"w-full md:w-1/2 lg:w-1/3 p-4\">\n\n      <div className=\"h-full bg-gray-100 rounded-2xl\">\n        <Image\n          className=\"w-full rounded-2xl\"\n          height={300}\n          width={300}\n          src={`${process.env.STRAPI_URL || \"http://localhost:1337\"}${\n            data.attributes.image.data.attributes.url\n          }`}\n          alt=\"\"\n        />\n        <div className=\"p-8\">\n          <div className=\"group inline-block mb-4\" href=\"#\">\n            <h3 className=\"font-heading text-xl text-gray-900 hover:text-gray-700 group-hover:underline font-black\">\n              {data.attributes.name}\n            </h3>\n            <h2>${centsToDollars(data.attributes.priceInCents)}</h2>\n          </div>\n          <p className=\"text-sm text-gray-500 font-bold\">\n            {data.attributes.description}\n          </p>\n          <div className=\"flex flex-wrap md:justify-center -m-2\">\n            <div className=\"w-full md:w-auto p-2 my-6\">\n              <button\n                className=\"block w-full px-12 py-3.5 text-lg text-center text-white font-bold bg-gray-900 hover:bg-gray-800 focus:ring-4 focus:ring-gray-600 rounded-full\"\n                onClick={handleAddItem}\n              >\n                + Add to Cart\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function Restaurant() {\n  const router = useRouter();\n  const { loading, error, data } = useQuery(GET_RESTAURANT_DISHES, {\n    variables: { id: router.query.id },\n  });\n\n  if (error) return \"Error Loading Dishes\";\n  if (loading) return <Loader />;\n  if (data.restaurant.data.attributes.dishes.data.length) {\n    const { restaurant } = data;\n\n    return (\n      <div className='py-6'>\n        <h1 className=\"text-4xl font-bold text-green-600\">\n          {restaurant.data.attributes.name}\n        </h1>\n        <div className=\"py-16 px-8 bg-white rounded-3xl\">\n          <div className=\"max-w-7xl mx-auto\">\n            <div className=\"flex flex-wrap -m-4 mb-6\">\n              {restaurant.data.attributes.dishes.data.map((res) => {\n                return <DishCard key={res.id} data={res} />;\n              })}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  } else {\n    return <h1>No Dishes Found</h1>;\n  }\n}"]},"metadata":{},"sourceType":"module"}